<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<div
			id="test"
			style="
				width: 300px;
				font-size: 12px;
				height: 16px;
				background: #290;
			"
		>
			0%
		</div>
		<ul id="ul">
			<li>1</li>
			<li>2</li>
			<li>3</li>
			<li>4</li>
			<li>5</li>
			<li>6</li>
		</ul>
		<script>
      // 错误
			var moveZeroes = function (nums) {
				// debugger
				let len = nums.length
				for (let i = 0; i < len; i++) {
					if (nums[i] == 0) {
						nums.splice(i, 1)
						nums[length-1] = 0
					}
				}
				return nums
			}
			var moveZeroes = function (nums) {
				// debugger
        let j = 0
				for (let i = 0; i < nums.length; i++) {
					if (nums[i] != 0) {
            nums[j] = nums[i]
            nums[i] = 0
            j++
					}
				}
				return nums
			}
			console.log(moveZeroes([0, 0, 1]))
		</script>
		<script>
			// 翻转字符串方法
			/**
			 * @param {number} x
			 * @return {number}
			 */
			const reverse = (x) => {
				// 获取相应数的绝对值
				let int = Math.abs(x)
				// 极值
				const MAX = 2147483647
				const MIN = -2147483648
				let num = 0

				// 遍历循环生成每一位数字
				while (int !== 0) {
					// 借鉴欧几里得算法，从 num 的最后一位开始取值拼成新的数
					num = (int % 10) + num * 10
					// 剔除掉被消费的部分
					int = Math.floor(int / 10)
				}
				// 异常值
				if (num >= MAX || num <= MIN) {
					return 0
				}
				if (x < 0) {
					return num * -1
				}
				return num
			}
			reverse('123')
		</script>
		<script>
			const test = document.getElementById('test')
			// setTimeout实现
			test.onclick = function () {
				var timer = setTimeout(function fn() {
					if (parseInt(test.style.width) < 300) {
						test.style.width = parseInt(test.style.width) + 3 + 'px'
						test.innerHTML = parseInt(test.style.width) / 3 + '%'
						timer = setTimeout(fn, 17)
					} else {
						clearTimeout(timer)
					}
				}, 17)
			}
			// setInterval实现
			test.onclick = function () {
				var timer = setInterval(function () {
					if (parseInt(test.style.width) < 300) {
						test.style.width = parseInt(test.style.width) + 3 + 'px'
						test.innerHTML = parseInt(test.style.width) / 3 + '%'
					} else {
						clearInterval(timer)
					}
				}, 17)
			}
			// requestAnimationFrame实现
			test.onclick = function () {
				var timer = requestAnimationFrame(function fn() {
					if (parseInt(test.style.width) < 300) {
						test.style.width = parseInt(test.style.width) + 3 + 'px'
						test.innerHTML = parseInt(test.style.width) / 3 + '%'
						requestAnimationFrame(fn)
					} else {
						cancelAnimationFrame(timer)
					}
				})
			}
		</script>
		<script>
			function unique(arr) {
				// indexOf 只记录item第一次出现在数组中的下标
				var res = arr.filter(function (item, index, array) {
					return array.indexOf(item) === index
				})
				return res
			}
			// debugger
			unique([1, 2, 2, 5, 5, 4, 1, 1])
		</script>
		<script>
			const ul = document.querySelector('ul')
			ul.addEventListener('click', function (e) {
				const target = e.target
				if (target.tagName.toLowerCase() === 'li') {
					const liList = this.querySelectorAll('li')
					console.log(
						liList,
						typeof liList,
						Object.prototype.toString.call(Array.from(liList))
					)
					const index = Array.prototype.indexOf.call(liList, target)
					alert(`内容为${target.innerHTML},索引为${index}`)
				}
			})
		</script>
		<script>
			function getStart(arr) {
				let index = 0
				let set = new Set()
				var loop = function () {
					arr.forEach((item) => {
						set.add(item[index])
					})
					index++
				}
				// debugger
				if (set.size === index) {
					loop()
				} else {
					return [...set].join('')
				}
			}
			getStart(['aaafsd', 'aawwewer', 'aaddfff'])
		</script>
	</body>
</html>
